(()=>{"use strict";var e={315:(e,t,n)=>{n.r(t)},74:(e,t,n)=>{n.r(t)},362:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeWinnerMessage=t.controlRace=t.driveCar=t.stopCar=void 0;const c=i(n(647)),s=n(382),l=n(407);let d=0;function u(e,t){return o(this,void 0,void 0,(function*(){e&&(function(e){e.style.transform="translateX(65px)",e.style.transitionDuration="0s"}(t),yield c.stopEngine(e))}))}function p(e,t,n){return o(this,void 0,void 0,(function*(){if(e){const r=window.innerWidth>500?150:100,a=yield c.startEngine(e);let i=a.distance/1e3/a.velocity;const u=Number(window.innerWidth)-r;"race"===n&&function(e,t,n){d=0;const r=setInterval((()=>o(this,void 0,void 0,(function*(){if(d+=1,t.getBoundingClientRect().x>=n){const t=(yield c.getCar(e)).name;if(0===s.appState.winnersArr.length){const n=d/1e3;if(function(e,t,n){s.appState.winnersArr.push(`Winner: ${t}<br>Time: ${e.toFixed(2)}s`);const r=document.querySelector("body");r&&(0,l.createElements)("winner-message","h2",r,`${s.appState.winnersArr[0]}`),e=0}(n,t),500===(yield c.createWinner({id:e,wins:1,time:+n.toFixed(2)}))){const t=yield c.getWinner(e),r=t.wins+1,a=n<+t.time?n:t.time;yield c.updateWinner(e,{wins:r,time:+a.toFixed(2)})}}clearInterval(r)}}))),1);s.appState.winnersArr.length>0&&(clearInterval(r),d=0)}(e,t,u-110),t.style.transform=`translateX(${u}px)`,t.style.transitionDuration=`${Math.round(i)}s`,(yield c.driveEngine(e))||function(e,t){const n=t.getBoundingClientRect().x;t.style.transform=`translateX(${n}px)`,t.style.transitionDuration="1s"}(0,t)}}))}function f(){s.appState.winnersArr=[];const e=document.querySelector("body"),t=document.querySelector(".winner-message");null==t||t.classList.add("display-none"),e&&t&&e.removeChild(t)}t.stopCar=u,t.driveCar=p,t.controlRace=function e(t){const n=document.querySelectorAll(".car"),r=document.querySelectorAll(".start-car-btn"),a=document.querySelectorAll(".stop-car-btn"),i=document.querySelector("race-btn"),o=document.querySelector("reaset-btn");i&&o&&(0,l.updateCarsBtns)(i,o),"race"===t?(e("reset"),n.forEach(((e,t)=>{e.getAttribute("carID")&&(p(Number(e.getAttribute("carID")),e,"race"),r[t].disabled=!0,a[t].disabled=!1)}))):"reset"===t&&(f(),n.forEach(((e,t)=>{e.getAttribute("carID")&&(u(Number(e.getAttribute("carID")),e),r[t].disabled=!1,a[t].disabled=!0)})))},t.removeWinnerMessage=f},647:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWinner=t.updateWinner=t.createWinner=t.getWinner=t.getWinners=t.driveEngine=t.stopEngine=t.startEngine=t.updateCar=t.deleteCar=t.createCar=t.getCar=t.getCars=t.WINNERS_PER_PAGE=t.CARS_PER_PAGE=void 0;const c=i(n(725)),s="http://127.0.0.1:3000",l=`${s}/garage`,d=`${s}/engine`,u=`${s}/winners`;t.CARS_PER_PAGE=7,t.WINNERS_PER_PAGE=10,t.getCars=function(e,n=t.CARS_PER_PAGE){return o(this,void 0,void 0,(function*(){const t=yield fetch(`${l}?_page=${e}&_limit=${n}`);return{items:yield t.json(),count:yield Number(t.headers.get("X-Total-Count"))}}))},t.getCar=function(e){return o(this,void 0,void 0,(function*(){return(yield fetch(`${l}/${e}`)).json()}))},t.createCar=function(e){return o(this,void 0,void 0,(function*(){return(yield fetch(l,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))},t.deleteCar=function(e){return o(this,void 0,void 0,(function*(){return(yield fetch(`${l}/${e}`,{method:"DELETE"})).json()}))},t.updateCar=function(e,t){return o(this,void 0,void 0,(function*(){return(yield fetch(`${l}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))},t.startEngine=function(e){return o(this,void 0,void 0,(function*(){return(yield fetch(`${d}/?id=${e}&status=started`,{method:"PATCH"})).json()}))},t.stopEngine=function(e){return o(this,void 0,void 0,(function*(){return(yield fetch(`${d}/?id=${e}&status=stopped`,{method:"PATCH"})).json()}))},t.driveEngine=function(e){return o(this,void 0,void 0,(function*(){return 200===(yield fetch(`${d}/?id=${e}&status=drive`,{method:"PATCH"}).catch()).status}))},t.getWinners=function(e,n=t.WINNERS_PER_PAGE,r=c.SortOptions.time,a=c.OrderOptions.ASC){return o(this,void 0,void 0,(function*(){const t=yield fetch(`${u}/?_page=${e}&_limit=${n}&_sort=${r}&_order=${a}`),i=yield t.json(),o=yield Number(t.headers.get("X-Total-Count"));return console.log("allWinners:::",i),console.log("winnersCount:::",o),{items:i,count:o}}))},t.getWinner=function(e){return o(this,void 0,void 0,(function*(){return(yield fetch(`${u}/${e}`)).json()}))},t.createWinner=function(e){return o(this,void 0,void 0,(function*(){const t=yield fetch(u,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return console.log(t.status),t.status}))},t.updateWinner=function(e,t){return o(this,void 0,void 0,(function*(){return(yield fetch(`${u}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))},t.deleteWinner=function(e){return o(this,void 0,void 0,(function*(){return yield fetch(`${u}/${e}`,{method:"DELETE"})}))}},419:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.carModelsArr=t.carsNamesArr=void 0,t.carsNamesArr=["Audi","Acura","Alfa Romeo","Aston Martin","Bentley","Byd","BMW","Brilliance","Buick","Bugatti","Cadillac","Changan","Chevrolet","Chery","Chrysler","Citroen","Daewoo","Dacia","Daihatsu","Dodge","Faw","Ferrari","Fiat","Ford","Geely","Gmc","Great Wall","Honda","Hummer","Hyundai","Infiniti","Jaguar","Jeep","Kia","Lamborghini","Land Rover","Lancia","Lexus","Lifan","Lincoln","Lotus","Marussia","Maybach","Mazda","Mercedes","Maserati","Mini","Mclaren","Mitsubishi","Nissan","Opel","Peugeot","Porsche","Renault","Saab","Seat","Skoda","Subaru","Suzuki","Toyota","Pontiac","Rolls-Royce","Smart","Ssangyong","Tesla","Volvo","Volkswagen","Haval","Rover","Datsun","Gac","Genesis","Exeed","Ravon","Polestar"],t.carModelsArr=["GT","Aventador","Centenario","Countach","Diablo","Egoista","Espada","Essenza","Gallardo","Huracan","Islero","Jalpa","Jarama","LM001","LM002","Miura","Murcielago","Reventon","Sesto Elemento","Sian","Silhouette","Urraco","Urus","Veneno","Q3","Q5","A5","A7","Cybertruck","Model 3","Model S","Model X","Model Y","Roadster","Semi","Camargue","Corniche","Cullinan","Dawn","Ghost","Park Ward","Phantom","Cloud","Ghost","Seraph","Shadow","Spirit","Spur","Wraith","Wraith"]},407:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showWinnerMessage=t.hideWinnerMessage=t.updateCarsBtns=t.getCarImage=t.getInputValue=t.renderCarOptions=t.shuffle=t.getRandomColor=t.getRandomColorRGB=t.createElements=void 0;const r=n(419);function a(e,t,n,r){const a=document.createElement(t);return e&&(a.className=e),r&&(a.innerHTML=r),n.appendChild(a),a}function i(e,t){return Math.random()*(t-e)+e}t.createElements=a,t.getRandomColorRGB=function(){return`rgb(${i(0,255)}, ${i(0,255)}, ${i(0,255)})`},t.getRandomColor=function(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},t.shuffle=function(e){return e.sort((()=>Math.random()-.5))},t.renderCarOptions=function(e){return a("","option",e,"Select car").value="0",r.carsNamesArr.sort((()=>Math.random()-.5)).forEach((t=>{a("","option",e,t).value=t}))},t.getInputValue=function(e){return e.value},t.getCarImage=function(e){return`\n        <svg fill="${e}" xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 1280 517"><path d="M468.7 49c-82.8 3.7-114 9-168.7 28.7-40.4 14.6-70.7 27.1-107.3 44.2-12 5.6-26.8 12.1-33 14.5C124 150.2 74.9 158.6 34 157.8l-17.5-.3-.6 4.5c-.3 2.5-1.7 6.7-3 9.5-3.3 7.2-3.1 17 .9 36 3 14.6 3.1 16.1 4.1 53.5 1.3 49.1 3.5 68.3 9.7 86.8 7 20.9 20 33.2 41.6 39.2 10.2 2.8 28.2 4.8 51.5 5.6 19.1.7 20.2.6 27.6-1.7l7.8-2.4-.5-3.5c-1.5-9.3-1.8-29.2-.6-37.1 6.7-46.2 43.7-83.2 89.9-89.9 12.4-1.9 31.3-.8 43.1 2.5 44.5 12.1 76.3 51.3 78.7 97 1.1 20.7-2.8 37.4-13.5 58.7-.2.5 142.7.8 317.6.8h318l-3.4-6.8c-9.5-18.9-13.2-41.3-10.1-61.7 3.5-22.1 12.4-40.7 27.3-56.4 37-39.3 96.3-44.2 139.6-11.6 20.6 15.5 34.5 38.1 39.4 64.2 1.2 6.6 1.5 12.2 1.1 22.8-.6 16.3-2.6 24.9-9.2 39.9-4.2 9.4-4.3 10-2.9 12.8.8 1.6 2.9 3.8 4.7 4.8 3 1.9 5.3 2 44.2 2 37 0 41.3-.2 44.5-1.8 2.5-1.2 3.6-2.5 3.8-4.4.2-1.6-1.3-10.1-3.4-19-2.6-11.8-3.8-19.5-4.1-27.8-.5-11.3-.4-11.9 4.6-31.1 5-19.4 5.1-19.9 5.1-34.7 0-16.5-1.3-28.4-3.7-34.5-3.7-9.2-25.7-23.2-58.8-37.4-58.3-25.1-98.1-33.3-232-47.8-23.1-2.5-43.3-5-45-5.5-3.9-1.1-10.5-1.8-30.5-3.1-18.8-1.2-28.5-2.9-38.5-6.8-4.4-1.7-18-10-36.5-22.3-47.5-31.4-102.2-65.2-116.9-72.1-11.4-5.4-39.7-14.8-59.1-19.6-17.1-4.3-38.3-7.2-68-9.1-22-1.4-88.8-2-112.3-1zm39.2 34.3c8.7 1.9 10.1 3.9 13.7 18.9l.6 2.8h-48.9c-26.9 0-70.8-.3-97.4-.7l-48.4-.7 9-2.8c29-9.2 65.5-15.4 113-19.2 11.3-.9 52.1.3 58.4 1.7zm72.6 2.2c37.3 3.5 69.6 8.3 85 12.5 11.9 3.3 36.3 13.5 35.2 14.7-.4.4-129.8-15.2-134.3-16.2-1.4-.3-2.5-2-3.7-5.8-.9-3-1.7-5.7-1.7-6 0-1 1.3-.9 19.5.8zm628 180.6c22.2 3.3 42.3 8.5 45.8 11.8 4.5 4.3 3.8 18.1-1.3 28.1-2 4-2.3 4.1-5.8 3.6-2-.3-13.1-1.3-24.7-2.2l-21-1.7-12.7-12.1c-7.1-6.6-12.8-12.6-12.8-13.2 0-.7-3.2-4.2-7.1-7.7l-7.2-6.6 3.4-.5c9.9-1.7 30.4-1.4 43.4.5z"/><path d="M239 262.9c-40.2 8.7-70.9 39.8-79.2 80.1-1.6 7.8-1.9 12.1-1.5 24 .6 17.7 2.6 26.1 10.2 41.5 13.1 26.8 36.6 46.1 66 54.2 8.9 2.5 11.7 2.8 25.5 2.7 12.7 0 17.1-.4 24.4-2.2 37.3-9.4 66-37.8 75.7-75 2.6-10 3.5-28.4 2-39.3-5-33.8-25.9-62.5-56.6-77.4-15.8-7.7-23.7-9.6-42.5-10.1-12.5-.3-17.2 0-24 1.5zm38.3 24.7c11.7 2.5 26.1 10.1 34.7 18.2l7.4 6.8-29 19.8-28.9 19.8-7-7.5c-3.8-4.1-14.7-15.5-24.2-25.4l-17.2-17.9 6.7-4.1c9.2-5.5 16.5-8.3 27.7-10.7 5.2-1 23.2-.5 29.8 1zm-46.8 47.3c18.1 26.4 18.7 27.4 16.9 29.1-1.1.9-12.4 11.8-25.3 24l-23.4 22.3-2-2.4c-3.6-4.3-10.5-20.2-12.2-28.2-2.7-12.3-1.8-29.6 2.2-40.9 3.5-10.1 10.1-21 17.2-28.8 4.4-4.7 5.3-5.2 6.5-4 .8.8 9.8 13.8 20.1 28.9zm97.3-9.8c8.7 15.1 12.2 35 9.2 51.5-2.7 15-11.3 31.4-21.3 41.2l-4.4 4.4-5.5-7.9c-3-4.3-11.9-17.2-19.8-28.7l-14.2-20.8 5.3-5.4c16.2-16 44.5-42.3 45.4-42.1.6.2 2.9 3.7 5.3 7.8zm-44.7 74.5c12.9 13.6 23.5 25 23.7 25.4.4 1.1-10.6 7.6-17.5 10.5-28.2 11.4-62.9 4.2-83.8-17.5-3.3-3.4-3.7-4.3-2.5-5 .8-.5 13.7-9.2 28.5-19.4 14.9-10.2 27.3-18.6 27.6-18.6.3 0 11.1 11.1 24 24.6zM1062.4 264.5c-23 4.1-41 13.8-56.6 30.4-32.4 34.5-36.4 85.6-9.8 125.2 5.5 8.1 17.7 20.3 25.5 25.6 35 23.6 78.4 23.9 112.9.9 15.3-10.2 27.1-23.9 35.1-40.8 7-14.8 9-24.3 9-42.8 0-17-1.6-25.4-7.5-39.2-17.8-41.7-64.6-67.3-108.6-59.3zm35.1 23.5c20.9 5.3 38.7 19.1 49.4 38.2l3.2 5.6-3.3 1.1c-1.8.5-16.3 5.1-32.3 10.2-15.9 5-29.5 9.4-30.2 9.6-1.1.5-32.9-61.4-32-62.3.2-.2 3.7-1.3 7.8-2.3 10.3-2.8 26.9-2.8 37.4-.1zm-39.7 37.6c5.7 18 10 33 9.5 33.5-2.2 2.2-60.6 31-61.3 30.3-1.9-2-4.2-12.6-4.7-21.9-1.3-23.2 7.7-45.3 25-61.1 6-5.5 17.9-13.4 20.2-13.4.5 0 5.6 14.7 11.3 32.6zm98.2 29.3c2 15-1.9 33.4-10.2 47.6-5.5 9.3-19.3 23.1-28.1 28-3.7 2-7 3.5-7.3 3.2-1.2-1.2-21-65.3-20.4-66 .4-.5 14.4-7.7 31.1-16.2l30.4-15.4 1.7 5.4c.9 3 2.2 9 2.8 13.4zm-65.7 50.1 15.7 31-2.7 1.1c-5.7 2.2-16.1 3.9-24.1 3.9-20.2 0-38.4-7.2-53.8-21.3-5.7-5.2-17.7-22.2-17.1-24.1.3-.9 62.2-21.4 65.2-21.5.6 0 8.1 13.9 16.8 30.9z"/></svg>\n        `},t.updateCarsBtns=function(e,t){!0===e.disabled?(e.disabled=!1,t.disabled=!0):!1===e.disabled&&(e.disabled=!0,t.disabled=!1)},t.hideWinnerMessage=function(){const e=document.querySelector(".winner-message");e&&e.classList.add("display-none")},t.showWinnerMessage=function(){const e=document.querySelector(".winner-message");e&&e.classList.remove("display-none")}},201:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=i(n(647)),s=n(382),l=n(419),d=n(362),u=n(407),p=document.querySelector("main"),f=document.querySelector(".to-garage-btn");let m,v,h,g,y,b,S,E,_,w,O;function P(e){return o(this,void 0,void 0,(function*(){const t=document.querySelector(".cars-section-container");if(t){t.innerHTML="";const{items:n,count:r}=yield c.getCars(e);(0,u.createElements)("","h2",t,`Garage: ${r} cars`),(0,u.createElements)("","h3",t,`Page ${e} / ${Math.ceil(r/c.CARS_PER_PAGE)}`);const a=(0,u.createElements)("cars-list-container","div",t,"");for(let e=0;e<n.length;e++){const t=(0,u.createElements)("road-container","div",a,""),r=(0,u.createElements)("buttons-row","div",t,""),i=(0,u.createElements)("car-btn select-car-btn","button",r,"Select");i&&i.addEventListener("click",(()=>{return t={name:n[e].name,color:n[e].color,id:n[e].id},console.log(s.appState.carBody),s.appState.carBody.name=t.name,s.appState.carBody.color=t.color,s.appState.carBody.id=t.id,g.value=t.name,y.value=t.color,void(b.disabled=!1);var t}));const o=(0,u.createElements)("car-btn remove-car-btn","button",r,"Remove");o&&o.addEventListener("click",(()=>{var t;null!==(t=n[e].id)&&(c.deleteCar(t),P(s.appState.carsPage),c.deleteWinner(t))})),(0,u.createElements)("car-name","h4",r,`${n[e].name}`);const l=(0,u.createElements)("buttons-row second-row","div",t,""),p=(0,u.createElements)("car-btn start-car-btn","button",l,"D"),f=(0,u.createElements)("car-btn stop-car-btn","button",l,"P");f.disabled=!0;const m=(0,u.createElements)("road","div",t,""),v=(0,u.createElements)("car","div",m,"");v.setAttribute("carID",`${n[e].id}`),v.innerHTML=(0,u.getCarImage)(`${n[e].color}`),p&&p.addEventListener("click",(()=>{(0,d.driveCar)(n[e].id,v,"single"),(0,u.updateCarsBtns)(p,f)})),f&&f.addEventListener("click",(()=>{(0,d.stopCar)(n[e].id,v),(0,u.updateCarsBtns)(p,f),(0,d.removeWinnerMessage)()}))}const i=(0,u.createElements)("bottom-btns-container","div",t,"");w=(0,u.createElements)("prev-page-btn","button",i,"&#9666; Prev"),w.addEventListener("click",(()=>{s.appState.carsPage>1&&(s.appState.carsPage-=1,(0,d.removeWinnerMessage)(),P(s.appState.carsPage))})),O=(0,u.createElements)("next-page-btn","button",i,"Next &#9656;"),O.addEventListener("click",(()=>function(e){s.appState.carsPage<Math.ceil(e/c.CARS_PER_PAGE)&&(s.appState.carsPage+=1,(0,d.removeWinnerMessage)(),P(s.appState.carsPage))}(r)))}}))}function C(){p&&(p.innerHTML=""),function(){if(p){const e=(0,u.createElements)("conrtollers-container","div",p,""),t=(0,u.createElements)("conrtollers-container__row","div",e,"");m=(0,u.createElements)("create-car-select","select",t,""),(0,u.renderCarOptions)(m),m&&m.addEventListener("change",(()=>s.appState.carBody.name=(0,u.getInputValue)(m))),v=(0,u.createElements)("create-car-color","input",t,""),v.type="color",v&&v.addEventListener("change",(()=>s.appState.carBody.color=(0,u.getInputValue)(v))),h=(0,u.createElements)("create-car-btn","button",t,"Create"),h.addEventListener("click",(()=>function(){return o(this,void 0,void 0,(function*(){console.log(s.appState.carBody),s.appState.carBody.name||(s.appState.carBody.name="New Car"),yield c.createCar({name:s.appState.carBody.name,color:s.appState.carBody.color}),P(s.appState.carsPage),(0,s.clearAppStateCarBody)(),m.value="0",v.value="#000000"}))}()));const n=(0,u.createElements)("conrtollers-container__row","div",e,"");g=(0,u.createElements)("change-car-input-name","input",n,""),g.type="text",g&&g.addEventListener("change",(()=>s.appState.carBody.name=(0,u.getInputValue)(g))),y=(0,u.createElements)("change-car-color","input",n,""),y.type="color",y&&y.addEventListener("change",(()=>s.appState.carBody.color=(0,u.getInputValue)(y))),b=(0,u.createElements)("change-car-btn","button",n,"Change"),b.disabled=!0,b&&b.addEventListener("click",(()=>function(){return o(this,void 0,void 0,(function*(){console.log(s.appState.carBody),null!==s.appState.carBody.id&&(yield c.updateCar(s.appState.carBody.id,{name:s.appState.carBody.name,color:s.appState.carBody.color}),P(s.appState.carsPage),(0,s.clearAppStateCarBody)(),g.value="",y.value="#000000",b.disabled=!0)}))}()));const r=(0,u.createElements)("conrtollers-container__row","div",e,"");S=(0,u.createElements)("race-btn","button",r,"Race"),S&&S.addEventListener("click",(()=>(0,d.controlRace)("race"))),E=(0,u.createElements)("reaset-btn","button",r,"Reset"),E&&E.addEventListener("click",(()=>(0,d.controlRace)("reset"))),_=(0,u.createElements)("generate-cars-btn","button",r,"Generate cars"),_&&_.addEventListener("click",(()=>function(){return o(this,void 0,void 0,(function*(){for(let e=0;e<100;e++){const e=`${(0,u.shuffle)(l.carsNamesArr)[0]} ${(0,u.shuffle)(l.carModelsArr)[0]}`,t=(0,u.getRandomColor)();yield c.createCar({name:e,color:t})}P(s.appState.carsPage)}))}())),(0,u.createElements)("cars-section-container","div",p,"")}}(),P(s.appState.carsPage),(0,u.showWinnerMessage)()}f&&f.addEventListener("click",C),C()},123:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=i(n(647)),s=i(n(725)),l=n(382),d=n(407),u=document.querySelector("main"),p=document.querySelector(".to-winners-btn");let f,m;function v(e,t=s.SortOptions.time,n=s.OrderOptions.ASC){return o(this,void 0,void 0,(function*(){if(u){u.innerHTML="";const{items:r,count:a}=yield c.getWinners(l.appState.winnersPage,c.WINNERS_PER_PAGE,t,n);(0,d.createElements)("","h2",u,`Winners (${a})`),(0,d.createElements)("","h3",u,`Page ${e} / ${Math.ceil(a/c.WINNERS_PER_PAGE)}`);const i=(0,d.createElements)("winners-list-container","ol",u,""),s=(0,d.createElements)("winners-li title","li",i,"");(0,d.createElements)("car-in-winners__item","p",s,"â„–"),(0,d.createElements)("car-in-winners","div",s,""),(0,d.createElements)("car-in-winners__name table-name","p",s,"Name &#8645;").addEventListener("click",h),(0,d.createElements)("car-in-winners__item table-wins","p",s,"Wins &#8645;").addEventListener("click",g),(0,d.createElements)("car-in-winners__item table-time","p",s,"Time &#8645;").addEventListener("click",y),r.forEach(((t,n)=>o(this,void 0,void 0,(function*(){const r=(0,d.createElements)("winners-li","li",i,"");1===e?(0,d.createElements)("car-in-winners__item","p",r,`${n+1}`):9===n?(0,d.createElements)("car-in-winners__item","p",r,`${e}0`):(0,d.createElements)("car-in-winners__item","p",r,`${(c.WINNERS_PER_PAGE*(e-1)).toString()[0]}${n+1}`),(0,d.createElements)("car-in-winners","div",r,`${(0,d.getCarImage)((yield c.getCar(t.id)).color)}`),(0,d.createElements)("car-in-winners__name","p",r,`${(yield c.getCar(t.id)).name}`),(0,d.createElements)("car-in-winners__item","p",r,`${t.wins}`),(0,d.createElements)("car-in-winners__item","p",r,`${t.time}`)}))));const p=(0,d.createElements)("bottom-btns-container","div",u,"");f=(0,d.createElements)("prev-page-btn","button",p,"&#9666; Prev"),f.addEventListener("click",(()=>{l.appState.winnersPage>1&&(l.appState.winnersPage-=1,v(l.appState.winnersPage))})),m=(0,d.createElements)("next-page-btn","button",p," Next &#9656;"),m.addEventListener("click",(()=>function(e){l.appState.winnersPage<Math.ceil(e/c.WINNERS_PER_PAGE)&&(l.appState.winnersPage+=1,v(l.appState.winnersPage))}(a)))}}))}function h(){l.appState.sortOptions=s.SortOptions.id,v(l.appState.winnersPage,l.appState.sortOptions,b())}function g(){l.appState.sortOptions=s.SortOptions.wins,v(l.appState.winnersPage,l.appState.sortOptions,b())}function y(){l.appState.sortOptions=s.SortOptions.time,v(l.appState.winnersPage,l.appState.sortOptions,b())}function b(){let e;return l.appState.orderOptions===s.OrderOptions.ASC?(e=s.OrderOptions.DESC,l.appState.orderOptions=e):l.appState.orderOptions===s.OrderOptions.DESC&&(e=s.OrderOptions.ASC,l.appState.orderOptions=e),e}p&&p.addEventListener("click",(()=>{v(l.appState.winnersPage),(0,d.hideWinnerMessage)()})),u&&(0,d.createElements)("winners-section-container","div",u,"")},382:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.clearAppStateCarBody=t.appState=void 0;const o=i(n(725));t.appState={carsPage:1,carBody:{name:"",color:"",id:null},winnersPage:1,winnersArr:[],sortOptions:o.SortOptions.time,orderOptions:o.OrderOptions.ASC},t.clearAppStateCarBody=function(){t.appState.carBody.name="",t.appState.carBody.color="",t.appState.carBody.id=null}},725:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.OrderOptions=t.SortOptions=void 0,(r=t.SortOptions||(t.SortOptions={})).id="id",r.wins="wins",r.time="time",(n=t.OrderOptions||(t.OrderOptions={})).ASC="ASC",n.DESC="DESC"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(315),n(74),n(201),n(123)})();