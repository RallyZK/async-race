(()=>{"use strict";var e={315:(e,t,n)=>{n.r(t)},74:(e,t,n)=>{n.r(t)},362:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.removeWinnerMessage=t.controlRace=t.driveCar=t.stopCar=void 0;const o=i(n(647)),c=n(382),s=n(407);let l=0;const d="carID";async function u(e,t){e&&(function(e){e.style.transform="translateX(65px)",e.style.transitionDuration="0s"}(t),o.stopEngine(e))}async function p(e,t,n){if(e){const a=window.innerWidth>500?150:100,r=await o.startEngine(e),i=r.distance/1e3/r.velocity,d=Number(window.innerWidth)-a;"race"===n&&function(e,t,n){l=0;const a=setInterval((async()=>{if(l+=1,t.getBoundingClientRect().x>=n){const{name:t}=await o.getCar(e);if(0===c.appState.winnersArr.length){const n=l/1e3;if(function(e,t){c.appState.winnersArr.push(`Winner: ${t}<br>Time: ${e.toFixed(2)}s`);const n=document.querySelector("body");n&&(0,s.createElements)("winner-message","h2",n,`${c.appState.winnersArr[0]}`),e=0}(n,t),500===await o.createWinner({id:e,wins:1,time:+n.toFixed(2)})){const t=await o.getWinner(e),a=t.wins+1,r=n<+t.time?n:t.time;await o.updateWinner(e,{wins:a,time:+r.toFixed(2)})}}clearInterval(a)}}),1);c.appState.winnersArr.length>0&&(clearInterval(a),l=0)}(e,t,d-110),t.style.transform=`translateX(${d}px)`,t.style.transitionDuration=`${Math.round(i)}s`,await o.driveEngine(e)||function(e,t){const n=t.getBoundingClientRect().x;t.style.transform=`translateX(${n}px)`,t.style.transitionDuration="1s"}(0,t)}}function m(){c.appState.winnersArr=[];const e=document.querySelector("body"),t=document.querySelector(".winner-message");e&&t&&e.removeChild(t)}t.stopCar=u,t.driveCar=p,t.controlRace=function e(t){const n=document.querySelectorAll(".car"),a=document.querySelectorAll(".start-car-btn"),r=document.querySelectorAll(".stop-car-btn"),i=document.querySelector("race-btn"),o=document.querySelector("reaset-btn");i&&o&&(0,s.updateCarsBtns)(i,o),"race"===t?(e("reset"),n.forEach(((e,t)=>{e.getAttribute(d)&&(p(Number(e.getAttribute(d)),e,"race"),a[t].disabled=!0,r[t].disabled=!1)}))):"reset"===t&&(m(),n.forEach(((e,t)=>{e.getAttribute(d)&&(u(Number(e.getAttribute(d)),e),a[t].disabled=!1,r[t].disabled=!0)})))},t.removeWinnerMessage=m},647:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWinner=t.updateWinner=t.createWinner=t.getWinner=t.getWinners=t.driveEngine=t.stopEngine=t.startEngine=t.updateCar=t.deleteCar=t.createCar=t.getCar=t.getCars=t.WINNERS_PER_PAGE=t.CARS_PER_PAGE=void 0;const o=i(n(725)),c="http://127.0.0.1:3000",s=`${c}/garage`,l=`${c}/engine`,d=`${c}/winners`;t.CARS_PER_PAGE=7,t.WINNERS_PER_PAGE=10,t.getCars=async function(e,n=t.CARS_PER_PAGE){const a=await fetch(`${s}?_page=${e}&_limit=${n}`);return{items:await a.json(),count:await Number(a.headers.get("X-Total-Count"))}},t.getCar=async function(e){return(await fetch(`${s}/${e}`)).json()},t.createCar=async function(e){return(await fetch(s,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()},t.deleteCar=async function(e){return(await fetch(`${s}/${e}`,{method:"DELETE"})).json()},t.updateCar=async function(e,t){return(await fetch(`${s}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()},t.startEngine=async function(e){return(await fetch(`${l}/?id=${e}&status=started`,{method:"PATCH"})).json()},t.stopEngine=async function(e){return(await fetch(`${l}/?id=${e}&status=stopped`,{method:"PATCH"})).json()},t.driveEngine=async function(e){return 200===(await fetch(`${l}/?id=${e}&status=drive`,{method:"PATCH"}).catch()).status},t.getWinners=async function(e,n=t.WINNERS_PER_PAGE,a=o.SortOptions.time,r=o.OrderOptions.ASC){const i=await fetch(`${d}/?_page=${e}&_limit=${n}&_sort=${a}&_order=${r}`);return{items:await i.json(),count:await Number(i.headers.get("X-Total-Count"))}},t.getWinner=async function(e){return(await fetch(`${d}/${e}`)).json()},t.createWinner=async function(e){return(await fetch(d,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).status},t.updateWinner=async function(e,t){return(await fetch(`${d}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()},t.deleteWinner=async function(e){return await fetch(`${d}/${e}`,{method:"DELETE"})}},419:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.carModelsArr=t.carsNamesArr=void 0,t.carsNamesArr=["Audi","Acura","Alfa Romeo","Aston Martin","Bentley","Byd","BMW","Brilliance","Buick","Bugatti","Cadillac","Changan","Chevrolet","Chery","Chrysler","Citroen","Daewoo","Dacia","Daihatsu","Dodge","Faw","Ferrari","Fiat","Ford","Geely","Gmc","Great Wall","Honda","Hummer","Hyundai","Infiniti","Jaguar","Jeep","Kia","Lamborghini","Land Rover","Lancia","Lexus","Lifan","Lincoln","Lotus","Marussia","Maybach","Mazda","Mercedes","Maserati","Mini","Mclaren","Mitsubishi","Nissan","Opel","Peugeot","Porsche","Renault","Saab","Seat","Skoda","Subaru","Suzuki","Toyota","Pontiac","Rolls-Royce","Smart","Ssangyong","Tesla","Volvo","Volkswagen","Haval","Rover","Datsun","Gac","Genesis","Exeed","Ravon","Polestar"],t.carModelsArr=["GT","Aventador","Centenario","Countach","Diablo","Egoista","Espada","Essenza","Gallardo","Huracan","Islero","Jalpa","Jarama","LM001","LM002","Miura","Murcielago","Reventon","Sesto Elemento","Sian","Silhouette","Urraco","Urus","Veneno","Q3","Q5","A5","A7","Cybertruck","Model 3","Model S","Model X","Model Y","Roadster","Semi","Camargue","Corniche","Cullinan","Dawn","Ghost","Park Ward","Phantom","Cloud","Ghost","Seraph","Shadow","Spirit","Spur","Wraith","Wraith"]},407:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showWinnerMessage=t.hideWinnerMessage=t.updateCarsBtns=t.getCarImage=t.getInputValue=t.renderCarOptions=t.shuffle=t.getRandomColor=t.getRandomColorRGB=t.createElements=void 0;const a=n(419);function r(e,t,n,a){const r=document.createElement(t);return r.className=e,r.innerHTML=a,n.appendChild(r),r}function i(e,t){return Math.random()*(t-e)+e}t.createElements=r,t.getRandomColorRGB=function(){return`rgb(${i(0,255)}, ${i(0,255)}, ${i(0,255)})`},t.getRandomColor=function(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},t.shuffle=function(e){return e.sort((()=>Math.random()-.5))},t.renderCarOptions=function(e){return r("","option",e,"Select car").value="0",a.carsNamesArr.sort((()=>Math.random()-.5)).forEach((t=>{r("","option",e,t).value=t}))},t.getInputValue=function(e){return e.value},t.getCarImage=function(e){return`\n        <svg fill="${e}" xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 1280 517"><path d="M468.7 49c-82.8 3.7-114 9-168.7 28.7-40.4 14.6-70.7 27.1-107.3 44.2-12 5.6-26.8 12.1-33 14.5C124 150.2 74.9 158.6 34 157.8l-17.5-.3-.6 4.5c-.3 2.5-1.7 6.7-3 9.5-3.3 7.2-3.1 17 .9 36 3 14.6 3.1 16.1 4.1 53.5 1.3 49.1 3.5 68.3 9.7 86.8 7 20.9 20 33.2 41.6 39.2 10.2 2.8 28.2 4.8 51.5 5.6 19.1.7 20.2.6 27.6-1.7l7.8-2.4-.5-3.5c-1.5-9.3-1.8-29.2-.6-37.1 6.7-46.2 43.7-83.2 89.9-89.9 12.4-1.9 31.3-.8 43.1 2.5 44.5 12.1 76.3 51.3 78.7 97 1.1 20.7-2.8 37.4-13.5 58.7-.2.5 142.7.8 317.6.8h318l-3.4-6.8c-9.5-18.9-13.2-41.3-10.1-61.7 3.5-22.1 12.4-40.7 27.3-56.4 37-39.3 96.3-44.2 139.6-11.6 20.6 15.5 34.5 38.1 39.4 64.2 1.2 6.6 1.5 12.2 1.1 22.8-.6 16.3-2.6 24.9-9.2 39.9-4.2 9.4-4.3 10-2.9 12.8.8 1.6 2.9 3.8 4.7 4.8 3 1.9 5.3 2 44.2 2 37 0 41.3-.2 44.5-1.8 2.5-1.2 3.6-2.5 3.8-4.4.2-1.6-1.3-10.1-3.4-19-2.6-11.8-3.8-19.5-4.1-27.8-.5-11.3-.4-11.9 4.6-31.1 5-19.4 5.1-19.9 5.1-34.7 0-16.5-1.3-28.4-3.7-34.5-3.7-9.2-25.7-23.2-58.8-37.4-58.3-25.1-98.1-33.3-232-47.8-23.1-2.5-43.3-5-45-5.5-3.9-1.1-10.5-1.8-30.5-3.1-18.8-1.2-28.5-2.9-38.5-6.8-4.4-1.7-18-10-36.5-22.3-47.5-31.4-102.2-65.2-116.9-72.1-11.4-5.4-39.7-14.8-59.1-19.6-17.1-4.3-38.3-7.2-68-9.1-22-1.4-88.8-2-112.3-1zm39.2 34.3c8.7 1.9 10.1 3.9 13.7 18.9l.6 2.8h-48.9c-26.9 0-70.8-.3-97.4-.7l-48.4-.7 9-2.8c29-9.2 65.5-15.4 113-19.2 11.3-.9 52.1.3 58.4 1.7zm72.6 2.2c37.3 3.5 69.6 8.3 85 12.5 11.9 3.3 36.3 13.5 35.2 14.7-.4.4-129.8-15.2-134.3-16.2-1.4-.3-2.5-2-3.7-5.8-.9-3-1.7-5.7-1.7-6 0-1 1.3-.9 19.5.8zm628 180.6c22.2 3.3 42.3 8.5 45.8 11.8 4.5 4.3 3.8 18.1-1.3 28.1-2 4-2.3 4.1-5.8 3.6-2-.3-13.1-1.3-24.7-2.2l-21-1.7-12.7-12.1c-7.1-6.6-12.8-12.6-12.8-13.2 0-.7-3.2-4.2-7.1-7.7l-7.2-6.6 3.4-.5c9.9-1.7 30.4-1.4 43.4.5z"/><path d="M239 262.9c-40.2 8.7-70.9 39.8-79.2 80.1-1.6 7.8-1.9 12.1-1.5 24 .6 17.7 2.6 26.1 10.2 41.5 13.1 26.8 36.6 46.1 66 54.2 8.9 2.5 11.7 2.8 25.5 2.7 12.7 0 17.1-.4 24.4-2.2 37.3-9.4 66-37.8 75.7-75 2.6-10 3.5-28.4 2-39.3-5-33.8-25.9-62.5-56.6-77.4-15.8-7.7-23.7-9.6-42.5-10.1-12.5-.3-17.2 0-24 1.5zm38.3 24.7c11.7 2.5 26.1 10.1 34.7 18.2l7.4 6.8-29 19.8-28.9 19.8-7-7.5c-3.8-4.1-14.7-15.5-24.2-25.4l-17.2-17.9 6.7-4.1c9.2-5.5 16.5-8.3 27.7-10.7 5.2-1 23.2-.5 29.8 1zm-46.8 47.3c18.1 26.4 18.7 27.4 16.9 29.1-1.1.9-12.4 11.8-25.3 24l-23.4 22.3-2-2.4c-3.6-4.3-10.5-20.2-12.2-28.2-2.7-12.3-1.8-29.6 2.2-40.9 3.5-10.1 10.1-21 17.2-28.8 4.4-4.7 5.3-5.2 6.5-4 .8.8 9.8 13.8 20.1 28.9zm97.3-9.8c8.7 15.1 12.2 35 9.2 51.5-2.7 15-11.3 31.4-21.3 41.2l-4.4 4.4-5.5-7.9c-3-4.3-11.9-17.2-19.8-28.7l-14.2-20.8 5.3-5.4c16.2-16 44.5-42.3 45.4-42.1.6.2 2.9 3.7 5.3 7.8zm-44.7 74.5c12.9 13.6 23.5 25 23.7 25.4.4 1.1-10.6 7.6-17.5 10.5-28.2 11.4-62.9 4.2-83.8-17.5-3.3-3.4-3.7-4.3-2.5-5 .8-.5 13.7-9.2 28.5-19.4 14.9-10.2 27.3-18.6 27.6-18.6.3 0 11.1 11.1 24 24.6zM1062.4 264.5c-23 4.1-41 13.8-56.6 30.4-32.4 34.5-36.4 85.6-9.8 125.2 5.5 8.1 17.7 20.3 25.5 25.6 35 23.6 78.4 23.9 112.9.9 15.3-10.2 27.1-23.9 35.1-40.8 7-14.8 9-24.3 9-42.8 0-17-1.6-25.4-7.5-39.2-17.8-41.7-64.6-67.3-108.6-59.3zm35.1 23.5c20.9 5.3 38.7 19.1 49.4 38.2l3.2 5.6-3.3 1.1c-1.8.5-16.3 5.1-32.3 10.2-15.9 5-29.5 9.4-30.2 9.6-1.1.5-32.9-61.4-32-62.3.2-.2 3.7-1.3 7.8-2.3 10.3-2.8 26.9-2.8 37.4-.1zm-39.7 37.6c5.7 18 10 33 9.5 33.5-2.2 2.2-60.6 31-61.3 30.3-1.9-2-4.2-12.6-4.7-21.9-1.3-23.2 7.7-45.3 25-61.1 6-5.5 17.9-13.4 20.2-13.4.5 0 5.6 14.7 11.3 32.6zm98.2 29.3c2 15-1.9 33.4-10.2 47.6-5.5 9.3-19.3 23.1-28.1 28-3.7 2-7 3.5-7.3 3.2-1.2-1.2-21-65.3-20.4-66 .4-.5 14.4-7.7 31.1-16.2l30.4-15.4 1.7 5.4c.9 3 2.2 9 2.8 13.4zm-65.7 50.1 15.7 31-2.7 1.1c-5.7 2.2-16.1 3.9-24.1 3.9-20.2 0-38.4-7.2-53.8-21.3-5.7-5.2-17.7-22.2-17.1-24.1.3-.9 62.2-21.4 65.2-21.5.6 0 8.1 13.9 16.8 30.9z"/></svg>\n        `},t.updateCarsBtns=function(e,t){const n=!0===e.disabled;e.disabled=!n,t.disabled=n},t.hideWinnerMessage=function(){const e=document.querySelector(".winner-message");e&&e.classList.add("display-none")},t.showWinnerMessage=function(){const e=document.querySelector(".winner-message");e&&e.classList.remove("display-none")}},201:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(647)),c=n(382),s=n(419),l=n(362),d=n(407),u=document.querySelector("main"),p=document.querySelector(".to-garage-btn");let m,f,g,b,v,y,E,h,S,_,w;async function P(e){const t=document.querySelector(".cars-section-container");if(t){t.innerHTML="";const{items:n,count:a}=await o.getCars(e);(0,d.createElements)("","h2",t,`Garage: ${a} cars`),(0,d.createElements)("","h3",t,`Page ${e} / ${Math.ceil(a/o.CARS_PER_PAGE)}`);const r=(0,d.createElements)("cars-list-container","div",t,"");for(let e=0;e<n.length;e++){const t=(0,d.createElements)("road-container","div",r,""),a=(0,d.createElements)("buttons-row","div",t,""),i=(0,d.createElements)("car-btn select-car-btn","button",a,"Select");i&&i.addEventListener("click",(()=>{return t={name:n[e].name,color:n[e].color,id:n[e].id},console.log(c.appState.carBody),c.appState.carBody.name=t.name,c.appState.carBody.color=t.color,c.appState.carBody.id=t.id,b.value=t.name,v.value=t.color,void(y.disabled=!1);var t}));const s=(0,d.createElements)("car-btn remove-car-btn","button",a,"Remove");s&&s.addEventListener("click",(()=>{var t;null!==(t=n[e].id)&&(o.deleteCar(t),P(c.appState.carsPage),o.deleteWinner(t))})),(0,d.createElements)("car-name","h4",a,`${n[e].name}`);const u=(0,d.createElements)("buttons-row second-row","div",t,""),p=(0,d.createElements)("car-btn start-car-btn","button",u,"D"),m=(0,d.createElements)("car-btn stop-car-btn","button",u,"P");m.disabled=!0;const f=(0,d.createElements)("road","div",t,""),g=(0,d.createElements)("car","div",f,"");g.setAttribute("carID",`${n[e].id}`),g.innerHTML=(0,d.getCarImage)(`${n[e].color}`),p&&p.addEventListener("click",(()=>{(0,l.driveCar)(n[e].id,g,"single"),(0,d.updateCarsBtns)(p,m)})),m&&m.addEventListener("click",(()=>{(0,l.stopCar)(n[e].id,g),(0,d.updateCarsBtns)(p,m),(0,l.removeWinnerMessage)()}))}const i=(0,d.createElements)("bottom-btns-container","div",t,"");_=(0,d.createElements)("prev-page-btn","button",i,"&#9666; Prev"),_.addEventListener("click",(()=>{c.appState.carsPage>1&&(c.appState.carsPage-=1,(0,l.removeWinnerMessage)(),P(c.appState.carsPage))})),w=(0,d.createElements)("next-page-btn","button",i,"Next &#9656;"),w.addEventListener("click",(()=>function(e){c.appState.carsPage<Math.ceil(e/o.CARS_PER_PAGE)&&(c.appState.carsPage+=1,(0,l.removeWinnerMessage)(),P(c.appState.carsPage))}(a)))}}function C(){u&&(u.innerHTML=""),function(){if(u){const e=(0,d.createElements)("conrtollers-container","div",u,""),t=(0,d.createElements)("conrtollers-container__row","div",e,"");m=(0,d.createElements)("create-car-select","select",t,""),(0,d.renderCarOptions)(m),m&&m.addEventListener("change",(()=>c.appState.carBody.name=(0,d.getInputValue)(m))),f=(0,d.createElements)("create-car-color","input",t,""),f.type="color",f&&f.addEventListener("change",(()=>c.appState.carBody.color=(0,d.getInputValue)(f))),g=(0,d.createElements)("create-car-btn","button",t,"Create"),g.addEventListener("click",(()=>async function(){console.log(c.appState.carBody),c.appState.carBody.name||(c.appState.carBody.name="New Car"),await o.createCar({name:c.appState.carBody.name,color:c.appState.carBody.color}),P(c.appState.carsPage),(0,c.clearAppStateCarBody)(),m.value="0",f.value="#000000"}()));const n=(0,d.createElements)("conrtollers-container__row","div",e,"");b=(0,d.createElements)("change-car-input-name","input",n,""),b.type="text",b&&b.addEventListener("change",(()=>c.appState.carBody.name=(0,d.getInputValue)(b))),v=(0,d.createElements)("change-car-color","input",n,""),v.type="color",v&&v.addEventListener("change",(()=>c.appState.carBody.color=(0,d.getInputValue)(v))),y=(0,d.createElements)("change-car-btn","button",n,"Change"),y.disabled=!0,y&&y.addEventListener("click",(()=>async function(){console.log(c.appState.carBody),null!==c.appState.carBody.id&&(await o.updateCar(c.appState.carBody.id,{name:c.appState.carBody.name,color:c.appState.carBody.color}),P(c.appState.carsPage),(0,c.clearAppStateCarBody)(),b.value="",v.value="#000000",y.disabled=!0)}()));const a=(0,d.createElements)("conrtollers-container__row","div",e,"");E=(0,d.createElements)("race-btn","button",a,"Race"),E&&E.addEventListener("click",(()=>(0,l.controlRace)("race"))),h=(0,d.createElements)("reaset-btn","button",a,"Reset"),h&&h.addEventListener("click",(()=>(0,l.controlRace)("reset"))),S=(0,d.createElements)("generate-cars-btn","button",a,"Generate cars"),S&&S.addEventListener("click",(()=>async function(){for(let e=0;e<100;e++){const e=`${(0,d.shuffle)(s.carsNamesArr)[0]} ${(0,d.shuffle)(s.carModelsArr)[0]}`,t=(0,d.getRandomColor)();await o.createCar({name:e,color:t})}P(c.appState.carsPage)}())),(0,d.createElements)("cars-section-container","div",u,"")}}(),P(c.appState.carsPage),(0,d.showWinnerMessage)()}p&&p.addEventListener("click",C),C()},123:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(647)),c=i(n(725)),s=n(382),l=n(407),d=document.querySelector("main"),u=document.querySelector(".to-winners-btn");let p,m;async function f(e,t=c.SortOptions.time,n=c.OrderOptions.ASC){if(d){d.innerHTML="";const{items:a,count:r}=await o.getWinners(s.appState.winnersPage,o.WINNERS_PER_PAGE,t,n);(0,l.createElements)("","h2",d,`Winners (${r})`),(0,l.createElements)("","h3",d,`Page ${e} / ${Math.ceil(r/o.WINNERS_PER_PAGE)}`);const i=(0,l.createElements)("winners-list-container","ol",d,""),u=(0,l.createElements)("winners-li title","li",i,"");(0,l.createElements)("car-in-winners__item","p",u,"№"),(0,l.createElements)("car-in-winners","div",u,""),(0,l.createElements)("car-in-winners__name table-name","p",u,"Name &#8645;").addEventListener("click",(()=>g(c.SortOptions.id))),(0,l.createElements)("car-in-winners__item table-wins","p",u,"Wins &#8645;").addEventListener("click",(()=>g(c.SortOptions.wins))),(0,l.createElements)("car-in-winners__item table-time","p",u,"Time &#8645;").addEventListener("click",(()=>g(c.SortOptions.time))),a.forEach((async(t,n)=>{const a=(0,l.createElements)("winners-li","li",i,"");1===e?(0,l.createElements)("car-in-winners__item","p",a,`${n+1}`):9===n?(0,l.createElements)("car-in-winners__item","p",a,`${e}0`):(0,l.createElements)("car-in-winners__item","p",a,`${(o.WINNERS_PER_PAGE*(e-1)).toString()[0]}${n+1}`),(0,l.createElements)("car-in-winners","div",a,`${(0,l.getCarImage)((await o.getCar(t.id)).color)}`),(0,l.createElements)("car-in-winners__name","p",a,`${(await o.getCar(t.id)).name}`),(0,l.createElements)("car-in-winners__item","p",a,`${t.wins}`),(0,l.createElements)("car-in-winners__item","p",a,`${t.time}`)}));const b=(0,l.createElements)("bottom-btns-container","div",d,"");p=(0,l.createElements)("prev-page-btn","button",b,"&#9666; Prev"),p.addEventListener("click",(()=>{s.appState.winnersPage>1&&(s.appState.winnersPage-=1,f(s.appState.winnersPage))})),m=(0,l.createElements)("next-page-btn","button",b," Next &#9656;"),m.addEventListener("click",(()=>function(e){s.appState.winnersPage<Math.ceil(e/o.WINNERS_PER_PAGE)&&(s.appState.winnersPage+=1,f(s.appState.winnersPage))}(r)))}}function g(e){f(s.appState.winnersPage,e,function(){const e=s.appState.orderOptions===c.OrderOptions.ASC?c.OrderOptions.DESC:c.OrderOptions.ASC;return s.appState.orderOptions=e,e}())}u&&u.addEventListener("click",(()=>{f(s.appState.winnersPage),(0,l.hideWinnerMessage)()})),d&&(0,l.createElements)("winners-section-container","div",d,"")},382:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.clearAppStateCarBody=t.appState=void 0;const o=i(n(725));t.appState={carsPage:1,carBody:{name:"",color:"",id:null},winnersPage:1,winnersArr:[],sortOptions:o.SortOptions.time,orderOptions:o.OrderOptions.ASC},t.clearAppStateCarBody=function(){t.appState.carBody.name="",t.appState.carBody.color="",t.appState.carBody.id=null}},725:(e,t)=>{var n,a;Object.defineProperty(t,"__esModule",{value:!0}),t.OrderOptions=t.SortOptions=void 0,(a=t.SortOptions||(t.SortOptions={})).id="id",a.wins="wins",a.time="time",(n=t.OrderOptions||(t.OrderOptions={})).ASC="ASC",n.DESC="DESC"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(315),n(74),n(201),n(123)})();